<html>
<head>
<script>

function entryPoint()
{
	chrome.tabs.getAllInWindow(null,function(tabs)
	{
		var existing = [];
		for (var i=0;i<tabs.length;i++){
			tab = tabs[i];
			if (existing[tab.url]) {
				chrome.tabs.remove(tab.id)
			} else {
			    existing[tab.url] = tab;
			}
		}
	});
}

chrome.browserAction.onClicked.addListener(entryPoint);

</script>
</head>
</html>